---
title:
source:
author:
published:
created: 2025-09-07
description:
tags:
---
---
## 📦 Docker로 PostgreSQL에 연결된 n8n 자가호스팅 가이드  
*(<https://docs.n8n.io/hosting/installation/docker/#starting-n8n> 의 “Using with PostgreSQL” 섹션을 기반으로 한 한국어 번역)*  

---
### 1️⃣ 사전 준비

| ✅   | 준비 사항                                         |
| --- | --------------------------------------------- |
| •   | Docker 설치 (Desktop ✓ 또는 **Engine + Compose**) |
| •   | PostgreSQL 인스턴스 (호스트, DB, 사용자, 비밀번호, 포트 등)    |
| •   | 선택 사항: 타임존 (예: `Asia/Seoul`)                  |
| •   | 선택 사항: Docker 볼륨 이름 (기본값 `n8n_data`)          |

> **팁** – 로컬 테스트 시는 볼륨을 생략해도 되지만, 프로덕션에서는 반드시 지속적인 볼륨을 사용하세요 (4번 참조).

---

### 2️⃣ 지속 데이터 볼륨 만들기 ( 권장 )

```bash
docker volume create n8n_data
```

- `n8n_data` 폴더는 `/home/node/.n8n` 아래의 모든 데이터를 저장합니다.  
- PostgreSQL 사용 시에도 이 디렉터리는 여전히 필요합니다.

---

### 3️⃣ n8n Docker 이미지 가져오기

```bash
docker pull n8nio/n8n:1.115.1-amd64      # Stable version for AMD64
# 또는
docker pull n8nio/n8n:1.115.1-arm64      # Stable version for ARM64
```

---
### 4️⃣ PostgreSQL 설정으로 n8n 실행

```bash
docker run -d \
  --name n8n \
  -p 5678:5678 \
  \
  # 타임존 설정
  -e GENERIC_TIMEZONE="Asia/Seoul" \
  -e TZ="Asia/Seoul" \
  -e N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true \
  -e N8N_RUNNERS_ENABLED=true \
  \
  # PostgreSQL 연결 정보
  -e DB_TYPE=postgresdb \
  -e DB_POSTGRESDB_DATABASE="db-n8n-13_22-alphine3_21" \
  -e DB_POSTGRESDB_HOST="db-postgresql-13_22-alpine3_21" \
  -e DB_POSTGRESDB_PORT="5432" \
  -e DB_POSTGRESDB_USER="louis" \
  -e DB_POSTGRESDB_PASSWORD="admin!5408#" \
  -e DB_POSTGRESDB_SCHEMA="public" \
  \
  # 볼륨 마운트
  -v n8n_data:/home/node/.n8n \
  \
  docker.n8n.io/n8nio/n8n
```

> * `DB_POSTGRESDB_SCHEMA` 은 선택 사항이며, 지정하지 않으면 `public` 세션이 사용됩니다.  
> * 원격 DB를 연결할 때는 Docker 호스트에서 접근 가능한지 검증하세요 (방화벽 확인).

---

### 5️⃣ Docker‑Compose 사용 예시

```bash
git clone https://github.com/n8n-io/n8n-hosting.git
cd n8n-hosting/docker-compose/withPostgres
docker compose up -d
```

Compose 파일에서 `environment` 섹션을 본인의 데이터베이스 크레덴셜에 맞게 조정하면 됩니다.

---

### 6️⃣ 동작 확인

1. 브라우저에서 <http://localhost:5678> 접속  
2. 로그인 후 **Credentials** 탭에서 PostgreSQL 자격증명을 생성  
3. 상태가 “Connected” 라면 정상 연결 완료

---

### 7️⃣ 흔한 문제와 해결

| 증상           | 원인               | 해결책                                                                               |
| ------------ | ---------------- | --------------------------------------------------------------------------------- |
| 컨테이너 종료      | 환경 변수 오타         | `docker logs <컨테이너명>` 확인 후 수정                                                     |
| DB 연결 타임아웃   | PostgreSQL 접근 불가 | 포트 및 방화벽 확인                                                                       |
| `.n8n` 폴더 오류 | 볼륨 미마운트 혹은 권한 문제 | `-v n8n_data:/home/node/.n8n` 확인, `N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true` 사용 |
| 스케줄러 실행 안 됨  | 타임존 불일치          | `TZ` 와 `GENERIC_TIMEZONE` 두 변수 모두 설정                                              |

---

### 8️⃣ 업그레이드 및 정리

```bash
# 새 이미지 가져오기
docker pull docker.n8n.io/n8nio/n8n

# 재시작
docker stop n8n && docker rm n8n
docker run …   # 앞서 사용한 실행 명령 재사용

# Compose 사용 시
docker compose pull && docker compose down && docker compose up -d
```

---

## 🎉 마무리

이제 PostgreSQL 백엔드가 연결된 n8n 자가호스팅이 완료되었습니다.  
다음 단계는 TLS 적용, 방화벽 설정, 데이터 동기화 및 워커 활성화 등으로 이어질 수 있습니다. 자동화 작업 즐겁게!
