---
title:
source:
author:
published:
created: 2025-09-07
description:
tags:
---
- Docker Hub 
    - PostgreSQL : [https://hub.docker.com/_/postgres](https://hub.docker.com/_/postgres) 
        
- Tags 확인 
    - URL :  [https://hub.docker.com/_/postgres/tags](https://hub.docker.com/_/postgres/tags)  
    -  TAG: 13.13 
        
- 이미지 다운로드 
	1) $ docker pull postgres:13.13 
        
- Volume ( 데이터베이스 디렉토리 ) 생성 
    1) $ docker volume rm db-postgres-13.13-offl # 기존 volume 삭제
    2) $ docker volume create --name db-postgres-13.13-offl  # volume 생성
    3) $ sudo mkdir -p /var/lib/redmine/db/db-postgres-13.13-offl/data # volume 생성 확인
        
- 네트워크 생성     
	1.  $ docker network create devops-network -driver=bridge 
        - Subnet : 172.xx.0.0/16 
        - Gateway : 172.xx.0.1 
    2. $ docker network ls 
    3. $ docker network inspect devops-network 
            
- 컨테이너 생성 
    - - 
    1. $ docker run -d --network devops-network -p 5432:5432 --ip 172.20.0.3 -v db-postgres-13.13-redmine-offl:/var/lib/postgresql/data -e POSTGRES_PASSWORD='redmine!5408#' -e POSTGRES_USER=redmine -e POSTGRES_DB=db-redmine-offl -e TZ=Asia/Seoul --name db-postgres-13.13-offl postgres:13.13 # for initial setting <br>    <br>2. Commit <br>    <br>3. $ docker run -d --network devops-network -p 5432:5432 --ip 172.20.0.3 -v db-postgres-13.13-redmine-offl:/var/lib/postgresql/data -e POSTGRES_PASSWORD='redmine!5408#' -e POSTGRES_USER=redmine -e POSTGRES_DB=db-redmine-offl -e TZ=Asia/Seoul --name db-postgres-13.13-offl db-postgres-13.13-offl:latest|
    
- 네트워크 설정 확인 
    - $ docker network inspect devops-network 
	    - "IPv4Address": 172.20.0.3
    - $ docker exec -it db-postgres-13.13-offl bash 
    - $ root@…:/# apt update; apt install net-tools 
    - $ ifconfig 
    |   |
    |---|
    ||
    |- inet 172.20.0.2|
    
- 웹 서버  
    - [http://localhost:5432](http://localhost:5432/)  
        
- Account 
    - redmine/ redmine!5408# # account for 'db-redmine-offl' DB 
        
- Commit 
    - $ docker stop db-postgres-13.13-offl 
    - $ docker commit -m "..." -a [user] db-postgres-13.13-offl db-postgres-13.13-offl:latest 
    - $ docker image tag db-postgres-13.13-offl:latest db-postgres-13.13-offl:1.0.0 
    - $ docker tag db-postgres-13.13-offl:1.0.0 localhost:5000/db-postgres-13.13-offl:1.0.0 
    - $ docker push localhost:5000/db-postgres-13.13-offl:1.0.0 
    - $ docker start db-postgres-13.13-offl