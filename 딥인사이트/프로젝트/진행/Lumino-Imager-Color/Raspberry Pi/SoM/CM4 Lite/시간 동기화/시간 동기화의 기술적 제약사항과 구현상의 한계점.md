---
title: 시간 동기화의 기술적 제약사항과 구현상의 한계점
source:
author:
  - "[[@_louis]]"
published:
created: 2025-09-25
description: 시간 동기화와 FUSE 파일시스템의 기술적 제약사항과 구현상의 한계점들을 중심으로 요약 정리
tags:
  - "#rpi-timedate-sync"
---
## 시간 동기화 & FUSE 파일시스템 관련 주요 제약사항 요약

### **시간 동기화 관련 제약사항**

1. **USB Gadget과 PC 간 직접 시간 동기화 불가능**
    
    - USB Gadget Storage 프로토콜에는 시간 동기화 기능이 표준으로 존재하지 않음
    - PC에서 하드웨어 안전 제거와 동시에 자동 시간 동기화는 불가능
    - 표준적인 직접 방법은 없고, 커스텀 구현만 가능
2. **NTP 비활성화 후 네트워크 연결시 자동 재활성화 불확실**
    
    - `timedatectl set-ntp false`로 명시적 비활성화한 NTP는 네트워크 연결만으로 자동 재활성화되지 않음
    - 배포판별로 다른 동작 가능성 (확실하지 않음)
    - 사용자가 명시적으로 설정한 상태를 systemd가 유지하는 것이 원칙

### **FUSE 파일시스템 관련 제약사항**

3. **USB Gadget Storage와 FUSE 동시 사용의 복잡성**
    
    - USB gadget storage 활성화 중일 때 동시 접근 문제 발생 가능
    - 캐시 일관성 관리 필요
    - 언마운트 순서가 중요 (FUSE → 디스크 이미지)
4. **FUSE 오버레이 구현의 한계**
    
    - 기존 파일시스템 위에 FUSE 오버레이 마운트는 기술적으로 가능하지만 복잡
    - Passthrough 방식이 가장 안전하지만 성능 오버헤드 존재
    - 사용자 공간과 커널 공간 간 컨텍스트 스위칭으로 인한 성능 저하

### **근본적인 기술적 한계**

5. **USB Gadget Storage의 배타적 접근**
    
    - USB gadget으로 노출된 저장소는 호스트가 배타적으로 접근
    - 라즈베리파이 측에서 동시 파일시스템 조작이 제한적
6. **시간 동기화 프로토콜의 부재**
    
    - USB 프로토콜에는 시간 정보 전달 메커니즘이 없음
    - 파일 기반 우회 방법만 가능하지만 신뢰성 보장 어려움

**결론**: 두 기술 모두 각각의 목적에 맞게 설계되어 있어, 조합 사용 시 표준적인 방법보다는 커스텀 구현이 필요하며 여러 기술적 제약사항들로 인해 완벽한 해결책은 없다는 것이 핵심 문제점입니다.