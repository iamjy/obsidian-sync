 ✅ 해결 완료

  gpio_monitor.py를 수정하여 GPIO 충돌 문제를 해결했습니다.

  🔧 주요 변경사항

  1. GPIO 초기화 충돌 방지
  - setmode() 에러 처리: 이미 설정된 경우 기존 설정 사용
  - GPIO 사용 가능 여부 체크 (GPIO_AVAILABLE)
  - 초기화 상태 추적 변수 (_gpio_initialized)

  2. Cleanup 충돌 방지
  - GPIO.cleanup() 대신 cleanup_gpio() 사용
  - PIN 8만 선택적으로 정리 (다른 GPIO 설정 유지)
  - remove_event_detect()로 이벤트만 제거

  3. 로깅 및 에러 처리 개선
  - 표준 로깅 사용
  - 예외 상황 로깅
  - 리턴 코드로 상태 전달

  📋 테스트 가이드

  # 1. gpio_monitor.py 단독 실행 테스트
  python3 gpio_monitor.py

  # 2. 메인 앱과 함께 실행 (별도 터미널)
  # Terminal 1:
  python3 main.py

  # Terminal 2:
  python3 gpio_monitor.py

  # 3. OTG 연결 해제 시뮬레이션
  # GPIO8을 GND에 연결하여 falling edge 발생

  ✅ 확인 사항

  1. gpio_monitor.py 실행 시:
    - "GPIO already configured" 메시지 정상
    - GPIO8 이벤트 감지 정상 작동
  2. 메인 앱 실행 중:
    - 디스크 모니터링 계속 작동
    - 다른 GPIO 기능 정상 유지
  3. OTG 해제 후:
    - 시간 동기화 정상 수행
    - 디스크 모니터링 중단되지 않음

  gpio_monitor.py:28-53, gpio_monitor.py:484-502